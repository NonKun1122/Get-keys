<input id="userId" placeholder="ใส่ UserId Roblox">
<button id="getKey">สร้าง Key วันนี้</button>
<p id="keyDisplay"></p>
<p id="expireDisplay"></p>

<script>
document.getElementById("getKey").onclick = async () => {
  const userId = document.getElementById("userId").value;
  if(!userId) return alert("ใส่ UserId ก่อน");

  const res = await fetch(`/api/generateKey?userId=${userId}`);
  const data = await res.json();

  document.getElementById("keyDisplay").innerText = data.key;
  document.getElementById("expireDisplay").innerText = "หมดอายุ: " + new Date(data.expire).toLocaleString();
};
</script>
